---
- name: meraki deployment
  connection: local
  hosts: localhost
  vars:
<<<<<<< HEAD
    auth_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66636239353831616366633034323635333036623736623332636330613535613031636161306634
          6464336663623334633462363661393731356232656266320a613364656135313537666631383633
          33323963653764316439316463363236646435343863386431346565656361393534623138613435
          6536626666306663660a636330313961393864363737646666313839323132366465376263643038
          33393065393239613038323836366332356236376335356331333462323562633662306465333363
          6637643531633565656265616661313338306336306536353165
=======
    auth_key: "{{ auth_key }}"
>>>>>>> ba2829c6da859ee26504ba68bcf694f148166571
    org_name: "{{ org }}"
    switch_serial: "{{ switch_serial }}"

  tasks:
   - name: Query information about all switchports on a switch
     meraki_switchport:
       auth_key: "{{ auth_key }}"
       serial: "{{ switch_serial }}"
       state: query
     delegate_to: localhost
     register: switchinfo

   - debug: var=switchinfo
